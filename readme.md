## Blog 프로젝트

# tempReame
## 요구사항
### 관리자페이지(글/카테고리 작성, 삭제, 수정)
관리자 접속 url 따로 생성해서 로그인
### 유저페이지 (글 조회, 댓글작성)
유저는 로그인 기능 없음 디씨처럼 댓글 작성시 아이디와 비번 작성 후 댓글 작성
### React 싱글 페이지 SPA
라우팅 React에서 서버는 API서버로 구축
### DB 설계
PK글번호 글제목 글내용 FK카테고리번호
PK카테고리번호 카테고리제목
관리자 아이디 비번
PK댓글번호 댓글아이디 댓글 비밀번호 댓글내용 FK 글번호

정규화 필

#### ERD
![스크린샷 2023-08-22 오전 10 03 48](https://github.com/ksaw1228/myBlog/assets/48974380/f5623617-0125-43b5-bc7f-2abbb5b97a9f)

### API
#### 일반 유저 게시물 조회
('/board')

@Get('/')
//유저 홈페이지
글 테이블의 최신 20개(글 번호 내림차순) 데이터의 글제목, 글번호 응답
카테고리 테이블의 모든 데이터 응답

@Get('/:id')
params 에서 id뽑아서 글 테이블에 해당하는 글제목, 글번호, 글내용 응답
id를 FK로 가지고 있는 댓글 테이블 전부 오름차순으로 응답(추후 페이지네이션 필요)

@Get('/category/:id')
params 에서 id 뽑아서 글 테이블에 해당하는 FK카테고리 번호를 가지고 있는 
글제목, 글번호 응답
추후 **페이지네이션** 필요

@Post('/:id')
//댓글 작성
body = {작성자id, 댓글내용}
params에서 id 뽑아서 댓글 테이블에 FK글번호로 사용
body의 데이터 댓글 테이블에 저장


---
#### 관리자 페이지
#### 관리자 페이지인데 엄격한 입력값 검증이 필요한가?
#### 카테고리 작성 삭제 수정
('/admin)
@authguard(관리자만)

@Post(/category)
body : {카테고리 제목}
body에서 카테고리 제목 뽑아서 카테고리 테이블에 저장 

@Delete(/category/:id)
params 에서 id 뽑아서 카테고리 테이블에 해당하는 id 제거

@Patch(/category/:id)
body : {카테고리 제목}
params에서 id 뽑아서 카테고리 테이블에 해당하는 id 내용 body로 변경

#### 글 작성 삭제 수정
('/admin)
@authguard(관리자만)

@Post(/board)
body : {카테고리번호, 글제목, 글내용}
body에서 카테고리 번호 글제목 글내용 뽑아서 글 테이블에 저장 

@Delete(/board/:id)
params 에서 id 뽑아서 글테이블에 해당하는 id 제거

@Patch(/board/:id)
body : {카테고리번호, 글제목, 글내용}
params에서 id 뽑아서 글테이블에 해당하는 id 내용 body로 변경


